<section flex grow="1" layout="column" justify-content="space-between">
  <div class="heading">{{post.title}}</div>
</section>

<section>
  
  <div class="heading">Comments</div>
  
  <comments>
    
    <card>
      <toolbar layout="column" align-items="flex-start" class="primary elevate">
        <tools>
          <div>Leave a Comment</div>
        </tools>
        <tabs>
          <tab ng-click="switchView('compose')">Compose</tab>
          <tab ng-click="switchView('preview')">Preview</tab>
        </tabs>
      </toolbar>
      <div ng-if="view === 'compose'" class="card-content">
        <form name="blah" method="post">
          <div layout="row" wrap>
            <input-container class="primary">
              <label for="author">Author</label>
              <input name="author" type="text" ng-model="compose.author" placeholder="Name">
            </input-container>
            <input-container class="primary">
              <label for="email">Email</label>
              <input name="email" type="text" ng-model="compose.email" placeholder="Email">
            </input-container>
          </div>
          <input-container class="primary">
            <label for="body">Comment</label>
            <textarea name="body" type="text" ng-model="compose.body" placeholder="Comment"></textarea>
          </input-container>
        </form>
      </div>
      <div ng-if="view === 'preview'" class="card-content">
        <comment layout="row">
          <img gravatar-src-once="compose.email" gravatar-size="60"></img>
          <div layout="column">
            <div layout="column" justify-content="center" class="header">
              <div class="author">{{compose.author || 'Anonymous'}}</div>
              <div class="date">just now</div>
            </div>
            <div class="body" marked="compose.body"></div>
          </div>
        </comment>
      </div>
      <actions justify-content="flex-end">
        <button class="primary">Comment</button>
      </actions>
    </card>
    
    <comment layout="row" ng-repeat="comment in post.comments">
      <img gravatar-src-once="comment.email" gravatar-size="60"></img>
      <div layout="column">
        <div layout="column" justify-content="center" class="header">
          <div class="author">{{comment.author}}</div>
          <div class="date">{{comment.date | span}}</div>
        </div>
        <div class="body">{{comment.body}}</div>
        <actions layout="row">
          <button class="primary">Reply</button>
        </actions>
      </div>
    </comment>
    
  </comments>
</section>