"use strict";angular.module("me",["ngAnimate","ngRoute"]).config(["$routeProvider",function(a){var b=document.querySelector("scroll.view");a.when("/about",{templateUrl:"templates/about.html",title:"About Me",resolve:{scroll:["$scroll",function(a){return a(b,b.scrollTop,0)}]}}).when("/projects",{templateUrl:"templates/projects.html",title:"Projects",resolve:{scroll:["$scroll",function(a){return a(b,b.scrollTop,0)}]}}).when("/professional",{templateUrl:"templates/professional.html",title:"Professional",resolve:{scroll:["$scroll",function(a){return a(b,b.scrollTop,0)}]}}).otherwise({redirectTo:"/about"})}]).run(["$rootScope",function(a){a.title="Me",a.$on("$routeChangeSuccess",function(b,c){a.title=c.title?c.title:void 0}),angular.element.prototype.first=function(){return this[0]},angular.element.prototype.previous=function(){return angular.element(this.prop("previousSibling"))},Array.prototype.first=function(){return this[0]}}]),angular.module("me").animation(".collapse",["$animate",function(a){return{beforeEnter:function(a,b){a.css("margin-top","-"+a.prop("clientHeight")+"px"),b()},enter:function(b,c){a.animate(b,{"margin-top":"-"+b.prop("clientHeight")+"px"},{"margin-top":"0"}).then(c)},leave:function(b,c){a.animate(b,{"margin-top":"0"},{"margin-top":"-"+b.prop("clientHeight")+"px"}).then(c)}}}]),angular.module("me").controller("LeftDrawerController",["$drawer","$media","$scope","$timeout",function(a,b,c,d){var e,f=b("lt-sm");a.get("left").then(function(a){e=a}),c.$on("$routeChangeSuccess",function(){f.matches&&d(e.close,150)})}]),angular.module("me").controller("MusicController",["$audio","$http","$scope",function(a,b,c){function d(){c.playing=a.isPlaying(),c.currentTime=a.currentTime(),e.value=a.currentTime(),e.max=a.duration()}b.jsonp("https://itunes.apple.com/lookup",{cache:!0,params:{callback:"JSON_CALLBACK",id:"936832274"}}).success(function(a){c.album=a.results.first(),c.album.artworkUrl600=c.album.artworkUrl60.replace("60x60-50","600x600")}),c.tracks=[{duration:"2:55",file:"media/Sidekick.m4a",number:"02",title:"Sidekick"},{duration:"3:39",file:"media/Avalanche.m4a",number:"05",title:"Avalanche"},{duration:"4:01",file:"media/Portugal.m4a",number:"06",title:"Portugal"}],c.currentTime=0;var e=document.querySelector("progress");a.isSet()?(d(),c.tracks.some(function(b){return b.title===a.name?(c.activeTrack=b,!0):void 0})):(c.activeTrack=c.tracks.first(),a.set(c.activeTrack.title,c.activeTrack.file)),c.play=function(){a.play(),c.playing=!0},c.pause=function(){a.pause(),c.playing=!1},c.selectTrack=function(b){a.set(b.title,b.file),c.activeTrack=b,c.play()},a.on("loadedmetadata",d),a.on("timeupdate",function(){c.$apply(function(){e.value=c.currentTime=a.currentTime()})})}]).filter("playBack",function(){return function(a){var b=Math.floor(a/60),c=a%60;return 10>c&&(c="0"+c),b+":"+c}}),angular.module("me").controller("ResumeController",["$dialog","$scope",function(a,b){b.showResume=function(){a.show({clickOutsideToClose:!0,templateUrl:"templates/resume-dialog.html"})}}]),angular.module("me").controller("RightDrawerController",["$drawer","$media","$scope","$timeout",function(a,b,c,d){var e,f=b("lt-sm");c.showToolbar=f.matches,f.addListener(function(a){d(function(){c.showToolbar=a.matches},350)}),a.get("right").then(function(a){e=a}),c.closeDrawer=function(){d(e.close,300)}}]),angular.module("me").controller("ToolbarController",["$drawer","$scope","$timeout",function(a,b,c){var d,e;a.get("left").then(function(a){d=a}),a.get("right").then(function(a){e=a}),b.toggleLeftDrawer=function(){c(d.toggle,300)},b.toggleRightDrawer=function(){c(e.toggle,300)}}]),angular.module("me").directive("drawer",["$animate","$backdrop","$drawer","$media","$q",function(a,b,c,d,e){return{link:function(f,g,h){function i(){var b;return"left"===h.id?(p.prepend(g),b=a.animate(g,{"margin-left":"-"+g.prop("clientWidth")+"px"},{"margin-left":"0"})):(q.after(g),b=a.animate(g,{"margin-right":"-"+g.prop("clientWidth")+"px"},{"margin-right":"0"})),b}function j(){var b;return b="left"===h.id?a.animate(g,{"margin-left":"0"},{"margin-left":"-"+g.prop("clientWidth")+"px"}):a.animate(g,{"margin-right":"0"},{"margin-right":"-"+g.prop("clientWidth")+"px"})}function k(){s||(g.addClass("locked"),r?b.leave().then(function(){b.off("click")})["finally"](f.$apply()):i()["finally"](f.$apply()),s=!0)}function l(){s&&(r?(g.removeClass("locked"),b.enter().then(function(){b.on("click",m)})["finally"](f.$apply())):j().then(function(){g.detach().removeClass("locked")})["finally"](f.$apply()),s=!1)}function m(){r&&!s&&e.all([j(),b.leave()]).then(function(){g.detach(),b.off("click"),r=!1})["finally"](f.$apply())}function n(){r||s||e.all([i(),b.enter()]).then(function(){b.on("click",m),r=!0})}function o(){r?m():n()}var p=g.parent(),q=g.previous(),r=!1,s=!1;if(h.lockOpen){var t=d(h.lockOpen);t.matches?(g.addClass("locked"),s=!0):g.detach(),t.addListener(function(a){a.matches?k():l()})}else g.detach();c.register(h.id,{close:m,open:n,toggle:o})}}}]),angular.module("me").directive("flex",function(){return{link:function(a,b,c){var d=c.grow?c.grow:0,e=c.shrink?c.shrink:0,f=c.basis?c.basis:"auto";b.css({"-webkit-flex":d+" "+e+" "+f,"-ms-flex":d+" "+e+" "+f,flex:d+" "+e+" "+f}),c.alignSelf&&b.css({"-ms-flex-item-align":c.alignSelf,"-webkit-align-self":c.alignSelf,"align-self":c.alignSelf}),c.order&&b.css({"-ms-flex-order":c.order,"-webkit-order":c.order,order:c.order})}}}),angular.module("me").directive("icon",["$http","$interpolate","$templateCache",function(a,b,c){return{link:function(d,e,f){var g=b(f.src)(d);a.get(g,{cache:c}).success(function(a){e.append(a)})}}}]),angular.module("me").directive("ripple",["$animate",function(a){return{link:function(b,c,d){function e(a){var b=angular.element("<ink></ink>"),e=c.first().getBoundingClientRect(),f=Math.max(e.height,e.width);return b.css({height:f+"px",width:f+"px",top:a.pageY-e.top-f/2+"px",left:a.pageX-e.left-f/2+"px","background-color":d.inkColor||g.color}),b}function f(d){a.enter(d,c).then(function(){d.remove()})["finally"](b.$apply())}c.css({position:"relative",overflow:"hidden"});var g=window.getComputedStyle(c.first());if(c.first().hasOwnProperty("ontouchstart")){var h;c.on("touchstart",function(a){h=!1;var b=e(a);setTimeout(function(){h||f(b)},100)}),c.on("touchmove",function(){h=!0})}else c.on("mousedown",function(a){f(e(a))})}}}]).directive("scroll",function(){return{link:function(a,b){b.on("touchstart",angular.noop)}}}).directive("button",["rippleDirective",function(a){var b=a.first();return{link:function(a,c,d){void 0===d.noInk&&b.link.apply(b,arguments)}}}]).directive("a",["rippleDirective",function(a){var b=a.first();return{link:function(a,c,d){void 0===d.noInk&&b.link.apply(b,arguments)}}}]),angular.module("me").factory("$audio",function(){var a,b;return{currentTime:function(){return this.isSet()?Math.floor(a.currentTime):0},duration:function(){return this.isSet()&&!isNaN(a.duration)?Math.floor(a.duration):0},isPlaying:function(){return this.isSet()?!a.paused:!1},isSet:function(){return a?!0:!1},on:function(b,c){a.addEventListener(b,c)},name:function(){return b},play:function(){this.isSet()&&a.play()},pause:function(){this.isSet()&&a.pause()},set:function(b,c){this.name=b,a?a.setAttribute("src",c):a=new Audio(c)}}}),angular.module("me").factory("$backdrop",["$animate",function(a){var b=angular.element("<backdrop></backdrop>");return{enter:function(){return a.enter(b,document.body)},leave:function(){return a.leave(b)},off:function(a,c){b.off(a,c)},on:function(a,c){b.on(a,c)},one:function(a,c){b.one(a,c)}}}]),angular.module("me").factory("$dialog",["$animate","$backdrop","$compile","$controller","$http","$q","$rootScope","$templateCache",function(a,b,c,d,e,f,g,h){function i(a){return"object"==typeof a&&a.template?f.when(a.template):"object"==typeof a&&a.templateUrl?e.get(a.templateUrl,{cache:h}).then(function(a){return a.data}):f.when()}var j,k,l={};return l.hide=function(){b.leave(),a.leave(j).then(function(){k&&k.$destroy()})},l.show=function(e){var h=f.defer(),m={promise:h.promise};return i(e).then(function(f){m.reject=function(a){h.reject(a),l.hide()},m.resolve=function(a){h.resolve(a),l.hide()},k=g.$new(),k.hide=l.hide,"object"==typeof e&&e.controller&&d(e.controller,{$scope:k,$dialog:m}),j=c(angular.element("<dialog-container></dialog-container>").html(f))(k),b.enter(),a.enter(j,document.body).then(function(){"object"==typeof e&&e.clickOutsideToClose&&(j.children().eq(0).on("click",function(a){a.stopImmediatePropagation()}),j.on("click",function(){g.$apply(function(){m.resolve("User clicked outside to close")})}))})})["catch"](function(a){throw h.reject(a),new Error("Your dialog template appears to be missing.")}),m},l}]),angular.module("me").factory("$drawer",["$q",function(a){var b={},c={};return{get:function(d){return c.hasOwnProperty(d)?c[d].promise:(c[d]=a.defer(),b.hasOwnProperty(d)&&c[d].resolve(b[d]),c[d].promise)},register:function(a,d){b[a]=d,c.hasOwnProperty(a)&&c[a].resolve(b[a])}}}]),angular.module("me").factory("$media",["$rootScope",function(){function a(a){var b=window.matchMedia(a);e[a]={query:b,matches:b.matches}}function b(b){var c=d[b];return e.hasOwnProperty(c)||a(c),e[c].query}var c={"screen-sm":"600px","screen-md":"960px","screen-lg":"1200px"},d={"lt-sm":"(max-width: "+c["screen-sm"]+")","gt-sm":"(min-width: "+c["screen-sm"]+")","lt-md":"(max-width: "+c["screen-md"]+")","gt-md":"(min-width: "+c["screen-md"]+")","lt-lg":"(max-width: "+c["screen-lg"]+")","gt-lg":"(min-width: "+c["screen-lg"]+")"},e={};return b}]),angular.module("me").factory("$scroll",["$q",function(a){return function(b,c,d,e){function f(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function g(){l+=16,j=l/e,j=j>1?1:j,k=c+i*f(j),b.scrollTop=Math.floor(k),k===d&&(clearInterval(m),h.resolve("scroll complete"))}e=e||500;var h=a.defer(),i=d-c;if(0===i)return h.resolve("scroll complete");var j,k,l=0,m=setInterval(g,16);return h.promise}}]);